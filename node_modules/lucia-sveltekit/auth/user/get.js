import { getAccountFromDatabaseData } from "../../utils/auth.js";
export const getUserFunction = (context) => {
    const getUser = async (authId, identifier) => {
        const identifierToken = `${authId}:${identifier}`;
        const databaseData = (await context.adapter.getUserByIdentifierToken(identifierToken));
        if (!databaseData)
            return null;
        const account = getAccountFromDatabaseData(databaseData);
        return account.user;
    };
    return getUser;
};
export const getUserByIdFunction = (context) => {
    const getUserById = async (userId) => {
        const databaseData = (await context.adapter.getUserById(userId));
        if (!databaseData)
            return null;
        const account = getAccountFromDatabaseData(databaseData);
        return account.user;
    };
    return getUserById;
};
